/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/ol@6.12.0/View.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __extends=this&&this.__extends||function(){var t=function(o,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])},t(o,e)};return function(o,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();import BaseObject from"./Object.js";import GeometryType from"./geom/GeometryType.js";import Units from"./proj/Units.js";import ViewHint from"./ViewHint.js";import ViewProperty from"./ViewProperty.js";import{DEFAULT_TILE_SIZE}from"./tilegrid/common.js";import{METERS_PER_UNIT,createProjection,fromUserCoordinate,fromUserExtent,getUserProjection,toUserCoordinate,toUserExtent}from"./proj.js";import{VOID}from"./functions.js";import{add as addCoordinate,equals as coordinatesEqual,rotate as rotateCoordinate}from"./coordinate.js";import{assert}from"./asserts.js";import{assign}from"./obj.js";import{none as centerNone,createExtent}from"./centerconstraint.js";import{clamp,modulo}from"./math.js";import{createMinMaxResolution}from"./resolutionconstraint.js";import{createSnapToN,createSnapToZero,disable,none as rotationNone}from"./rotationconstraint.js";import{createSnapToPower,createSnapToResolutions}from"./resolutionconstraint.js";import{easeOut}from"./easing.js";import{equals}from"./coordinate.js";import{getCenter,getForViewAndSize,getHeight,getWidth,isEmpty}from"./extent.js";import{inAndOut}from"./easing.js";import{linearFindNearest}from"./array.js";import{fromExtent as polygonFromExtent}from"./geom/Polygon.js";var DEFAULT_MIN_ZOOM=0,View=function(t){function o(o){var e=t.call(this)||this;e.on,e.once,e.un;var n=assign({},o);return e.hints_=[0,0],e.animations_=[],e.updateAnimationKey_,e.projection_=createProjection(n.projection,"EPSG:3857"),e.viewportSize_=[100,100],e.targetCenter_=null,e.targetResolution_,e.targetRotation_,e.nextCenter_=null,e.nextResolution_,e.nextRotation_,e.cancelAnchor_=void 0,n.center&&(n.center=fromUserCoordinate(n.center,e.projection_)),n.extent&&(n.extent=fromUserExtent(n.extent,e.projection_)),e.applyOptions_(n),e}return __extends(o,t),o.prototype.applyOptions_=function(t){var o=assign({},t);for(var e in ViewProperty)delete o[e];this.setProperties(o,!0);var n=createResolutionConstraint(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=n.minZoom;var i=createCenterConstraint(t),r=n.constraint,s=createRotationConstraint(t);this.constraints_={center:i,resolution:r,rotation:s},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom)},Object.defineProperty(o.prototype,"padding",{get:function(){return this.padding_},set:function(t){var o=this.padding_;this.padding_=t;var e=this.getCenter();if(e){var n=t||[0,0,0,0];o=o||[0,0,0,0];var i=this.getResolution(),r=i/2*(n[3]-o[3]+o[1]-n[1]),s=i/2*(n[0]-o[0]+o[2]-n[2]);this.setCenterInternal([e[0]+r,e[1]-s])}},enumerable:!1,configurable:!0}),o.prototype.getUpdatedOptions_=function(t){var o=this.getProperties();return void 0!==o.resolution?o.resolution=this.getResolution():o.zoom=this.getZoom(),o.center=this.getCenterInternal(),o.rotation=this.getRotation(),assign({},o,t)},o.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var o=new Array(arguments.length),e=0;e<o.length;++e){var n=arguments[e];n.center&&((n=assign({},n)).center=fromUserCoordinate(n.center,this.getProjection())),n.anchor&&((n=assign({},n)).anchor=fromUserCoordinate(n.anchor,this.getProjection())),o[e]=n}this.animateInternal.apply(this,o)},o.prototype.animateInternal=function(t){var o,e=arguments.length;e>1&&"function"==typeof arguments[e-1]&&(o=arguments[e-1],--e);for(var n=0;n<e&&!this.isDef();++n){var i=arguments[n];i.center&&this.setCenterInternal(i.center),void 0!==i.zoom?this.setZoom(i.zoom):i.resolution&&this.setResolution(i.resolution),void 0!==i.rotation&&this.setRotation(i.rotation)}if(n!==e){for(var r=Date.now(),s=this.targetCenter_.slice(),a=this.targetResolution_,h=this.targetRotation_,u=[];n<e;++n){var l=arguments[n],c={start:r,complete:!1,anchor:l.anchor,duration:void 0!==l.duration?l.duration:1e3,easing:l.easing||inAndOut,callback:o};if(l.center&&(c.sourceCenter=s,c.targetCenter=l.center.slice(),s=c.targetCenter),void 0!==l.zoom?(c.sourceResolution=a,c.targetResolution=this.getResolutionForZoom(l.zoom),a=c.targetResolution):l.resolution&&(c.sourceResolution=a,c.targetResolution=l.resolution,a=c.targetResolution),void 0!==l.rotation){c.sourceRotation=h;var p=modulo(l.rotation-h+Math.PI,2*Math.PI)-Math.PI;c.targetRotation=h+p,h=c.targetRotation}isNoopAnimation(c)?c.complete=!0:r+=c.duration,u.push(c)}this.animations_.push(u),this.setHint(ViewHint.ANIMATING,1),this.updateAnimations_()}else o&&animationCallback(o,!0)},o.prototype.getAnimating=function(){return this.hints_[ViewHint.ANIMATING]>0},o.prototype.getInteracting=function(){return this.hints_[ViewHint.INTERACTING]>0},o.prototype.cancelAnimations=function(){var t;this.setHint(ViewHint.ANIMATING,-this.hints_[ViewHint.ANIMATING]);for(var o=0,e=this.animations_.length;o<e;++o){var n=this.animations_[o];if(n[0].callback&&animationCallback(n[0].callback,!1),!t)for(var i=0,r=n.length;i<r;++i){var s=n[i];if(!s.complete){t=s.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},o.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),o=!1,e=this.animations_.length-1;e>=0;--e){for(var n=this.animations_[e],i=!0,r=0,s=n.length;r<s;++r){var a=n[r];if(!a.complete){var h=t-a.start,u=a.duration>0?h/a.duration:1;u>=1?(a.complete=!0,u=1):i=!1;var l=a.easing(u);if(a.sourceCenter){var c=a.sourceCenter[0],p=a.sourceCenter[1],g=a.targetCenter[0],m=a.targetCenter[1];this.nextCenter_=a.targetCenter;var _=c+l*(g-c),d=p+l*(m-p);this.targetCenter_=[_,d]}if(a.sourceResolution&&a.targetResolution){var f=1===l?a.targetResolution:a.sourceResolution+l*(a.targetResolution-a.sourceResolution);if(a.anchor){var R=this.getViewportSize_(this.getRotation()),v=this.constraints_.resolution(f,0,R,!0);this.targetCenter_=this.calculateCenterZoom(v,a.anchor)}this.nextResolution_=a.targetResolution,this.targetResolution_=f,this.applyTargetState_(!0)}if(void 0!==a.sourceRotation&&void 0!==a.targetRotation){var y=1===l?modulo(a.targetRotation+Math.PI,2*Math.PI)-Math.PI:a.sourceRotation+l*(a.targetRotation-a.sourceRotation);if(a.anchor){var C=this.constraints_.rotation(y,!0);this.targetCenter_=this.calculateCenterRotate(C,a.anchor)}this.nextRotation_=a.targetRotation,this.targetRotation_=y}if(this.applyTargetState_(!0),o=!0,!a.complete)break}}if(i){this.animations_[e]=null,this.setHint(ViewHint.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var x=n[0].callback;x&&animationCallback(x,!0)}}this.animations_=this.animations_.filter(Boolean),o&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},o.prototype.calculateCenterRotate=function(t,o){var e,n=this.getCenterInternal();return void 0!==n&&(e=[n[0]-o[0],n[1]-o[1]],rotateCoordinate(e,t-this.getRotation()),addCoordinate(e,o)),e},o.prototype.calculateCenterZoom=function(t,o){var e,n=this.getCenterInternal(),i=this.getResolution();void 0!==n&&void 0!==i&&(e=[o[0]-t*(o[0]-n[0])/i,o[1]-t*(o[1]-n[1])/i]);return e},o.prototype.getViewportSize_=function(t){var o=this.viewportSize_;if(t){var e=o[0],n=o[1];return[Math.abs(e*Math.cos(t))+Math.abs(n*Math.sin(t)),Math.abs(e*Math.sin(t))+Math.abs(n*Math.cos(t))]}return o},o.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},o.prototype.getCenter=function(){var t=this.getCenterInternal();return t?toUserCoordinate(t,this.getProjection()):t},o.prototype.getCenterInternal=function(){return this.get(ViewProperty.CENTER)},o.prototype.getConstraints=function(){return this.constraints_},o.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},o.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},o.prototype.calculateExtent=function(t){var o=this.calculateExtentInternal(t);return toUserExtent(o,this.getProjection())},o.prototype.calculateExtentInternal=function(t){var o=t||this.getViewportSizeMinusPadding_(),e=this.getCenterInternal();assert(e,1);var n=this.getResolution();assert(void 0!==n,2);var i=this.getRotation();return assert(void 0!==i,3),getForViewAndSize(e,n,i,o)},o.prototype.getMaxResolution=function(){return this.maxResolution_},o.prototype.getMinResolution=function(){return this.minResolution_},o.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},o.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},o.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},o.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},o.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},o.prototype.getProjection=function(){return this.projection_},o.prototype.getResolution=function(){return this.get(ViewProperty.RESOLUTION)},o.prototype.getResolutions=function(){return this.resolutions_},o.prototype.getResolutionForExtent=function(t,o){return this.getResolutionForExtentInternal(fromUserExtent(t,this.getProjection()),o)},o.prototype.getResolutionForExtentInternal=function(t,o){var e=o||this.getViewportSizeMinusPadding_(),n=getWidth(t)/e[0],i=getHeight(t)/e[1];return Math.max(n,i)},o.prototype.getResolutionForValueFunction=function(t){var o=t||2,e=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,i=Math.log(e/n)/Math.log(o);return function(t){return e/Math.pow(o,t*i)}},o.prototype.getRotation=function(){return this.get(ViewProperty.ROTATION)},o.prototype.getValueForResolutionFunction=function(t){var o=Math.log(t||2),e=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,i=Math.log(e/n)/o;return function(t){return Math.log(e/t)/o/i}},o.prototype.getViewportSizeMinusPadding_=function(t){var o=this.getViewportSize_(t),e=this.padding_;return e&&(o=[o[0]-e[1]-e[3],o[1]-e[0]-e[2]]),o},o.prototype.getState=function(){var t=this.getProjection(),o=this.getResolution(),e=this.getRotation(),n=this.getCenterInternal(),i=this.padding_;if(i){var r=this.getViewportSizeMinusPadding_();n=calculateCenterOn(n,this.getViewportSize_(),[r[0]/2+i[3],r[1]/2+i[0]],o,e)}return{center:n.slice(0),projection:void 0!==t?t:null,resolution:o,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:e,zoom:this.getZoom()}},o.prototype.getZoom=function(){var t,o=this.getResolution();return void 0!==o&&(t=this.getZoomForResolution(o)),t},o.prototype.getZoomForResolution=function(t){var o,e,n=this.minZoom_||0;if(this.resolutions_){var i=linearFindNearest(this.resolutions_,t,1);n=i,o=this.resolutions_[i],e=i==this.resolutions_.length-1?2:o/this.resolutions_[i+1]}else o=this.maxResolution_,e=this.zoomFactor_;return n+Math.log(o/t)/Math.log(e)},o.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var o=clamp(Math.floor(t),0,this.resolutions_.length-2),e=this.resolutions_[o]/this.resolutions_[o+1];return this.resolutions_[o]/Math.pow(e,clamp(t-o,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},o.prototype.fit=function(t,o){var e;if(assert(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)){assert(!isEmpty(t),25);var n=fromUserExtent(t,this.getProjection());e=polygonFromExtent(n)}else if(t.getType()===GeometryType.CIRCLE){n=fromUserExtent(t.getExtent(),this.getProjection());(e=polygonFromExtent(n)).rotate(this.getRotation(),getCenter(n))}else{var i=getUserProjection();e=i?t.clone().transform(i,this.getProjection()):t}this.fitInternal(e,o)},o.prototype.rotatedExtentForGeometry=function(t){for(var o=this.getRotation(),e=Math.cos(o),n=Math.sin(-o),i=t.getFlatCoordinates(),r=t.getStride(),s=1/0,a=1/0,h=-1/0,u=-1/0,l=0,c=i.length;l<c;l+=r){var p=i[l]*e-i[l+1]*n,g=i[l]*n+i[l+1]*e;s=Math.min(s,p),a=Math.min(a,g),h=Math.max(h,p),u=Math.max(u,g)}return[s,a,h,u]},o.prototype.fitInternal=function(t,o){var e=o||{},n=e.size;n||(n=this.getViewportSizeMinusPadding_());var i,r=void 0!==e.padding?e.padding:[0,0,0,0],s=void 0!==e.nearest&&e.nearest;i=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.getResolutionForZoom(e.maxZoom):0;var a=this.rotatedExtentForGeometry(t),h=this.getResolutionForExtentInternal(a,[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]);h=isNaN(h)?i:Math.max(h,i),h=this.getConstrainedResolution(h,s?0:1);var u=this.getRotation(),l=Math.sin(u),c=Math.cos(u),p=getCenter(a);p[0]+=(r[1]-r[3])/2*h,p[1]+=(r[0]-r[2])/2*h;var g=p[0]*c-p[1]*l,m=p[1]*c+p[0]*l,_=this.getConstrainedCenter([g,m],h),d=e.callback?e.callback:VOID;void 0!==e.duration?this.animateInternal({resolution:h,center:_,duration:e.duration,easing:e.easing},d):(this.targetResolution_=h,this.targetCenter_=_,this.applyTargetState_(!1,!0),animationCallback(d,!0))},o.prototype.centerOn=function(t,o,e){this.centerOnInternal(fromUserCoordinate(t,this.getProjection()),o,e)},o.prototype.centerOnInternal=function(t,o,e){this.setCenterInternal(calculateCenterOn(t,o,e,this.getResolution(),this.getRotation()))},o.prototype.calculateCenterShift=function(t,o,e,n){var i,r=this.padding_;if(r&&t){var s=this.getViewportSizeMinusPadding_(-e),a=calculateCenterOn(t,n,[s[0]/2+r[3],s[1]/2+r[0]],o,e);i=[t[0]-a[0],t[1]-a[1]]}return i},o.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},o.prototype.adjustCenter=function(t){var o=toUserCoordinate(this.targetCenter_,this.getProjection());this.setCenter([o[0]+t[0],o[1]+t[1]])},o.prototype.adjustCenterInternal=function(t){var o=this.targetCenter_;this.setCenterInternal([o[0]+t[0],o[1]+t[1]])},o.prototype.adjustResolution=function(t,o){var e=o&&fromUserCoordinate(o,this.getProjection());this.adjustResolutionInternal(t,e)},o.prototype.adjustResolutionInternal=function(t,o){var e=this.getAnimating()||this.getInteracting(),n=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*t,0,n,e);o&&(this.targetCenter_=this.calculateCenterZoom(i,o)),this.targetResolution_*=t,this.applyTargetState_()},o.prototype.adjustZoom=function(t,o){this.adjustResolution(Math.pow(this.zoomFactor_,-t),o)},o.prototype.adjustRotation=function(t,o){o&&(o=fromUserCoordinate(o,this.getProjection())),this.adjustRotationInternal(t,o)},o.prototype.adjustRotationInternal=function(t,o){var e=this.getAnimating()||this.getInteracting(),n=this.constraints_.rotation(this.targetRotation_+t,e);o&&(this.targetCenter_=this.calculateCenterRotate(n,o)),this.targetRotation_+=t,this.applyTargetState_()},o.prototype.setCenter=function(t){this.setCenterInternal(fromUserCoordinate(t,this.getProjection()))},o.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},o.prototype.setHint=function(t,o){return this.hints_[t]+=o,this.changed(),this.hints_[t]},o.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},o.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},o.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},o.prototype.applyTargetState_=function(t,o){var e=this.getAnimating()||this.getInteracting()||o,n=this.constraints_.rotation(this.targetRotation_,e),i=this.getViewportSize_(n),r=this.constraints_.resolution(this.targetResolution_,0,i,e),s=this.constraints_.center(this.targetCenter_,r,i,e,this.calculateCenterShift(this.targetCenter_,r,n,i));this.get(ViewProperty.ROTATION)!==n&&this.set(ViewProperty.ROTATION,n),this.get(ViewProperty.RESOLUTION)!==r&&(this.set(ViewProperty.RESOLUTION,r),this.set("zoom",this.getZoom(),!0)),s&&this.get(ViewProperty.CENTER)&&equals(this.get(ViewProperty.CENTER),s)||this.set(ViewProperty.CENTER,s),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},o.prototype.resolveConstraints=function(t,o,e){var n=void 0!==t?t:200,i=o||0,r=this.constraints_.rotation(this.targetRotation_),s=this.getViewportSize_(r),a=this.constraints_.resolution(this.targetResolution_,i,s),h=this.constraints_.center(this.targetCenter_,a,s,!1,this.calculateCenterShift(this.targetCenter_,a,r,s));if(0===n&&!this.cancelAnchor_)return this.targetResolution_=a,this.targetRotation_=r,this.targetCenter_=h,void this.applyTargetState_();var u=e||(0===n?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===a&&this.getRotation()===r&&this.getCenterInternal()&&equals(this.getCenterInternal(),h)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:h,resolution:a,duration:n,easing:easeOut,anchor:u}))},o.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(ViewHint.INTERACTING,1)},o.prototype.endInteraction=function(t,o,e){var n=e&&fromUserCoordinate(e,this.getProjection());this.endInteractionInternal(t,o,n)},o.prototype.endInteractionInternal=function(t,o,e){this.setHint(ViewHint.INTERACTING,-1),this.resolveConstraints(t,o,e)},o.prototype.getConstrainedCenter=function(t,o){var e=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,o||this.getResolution(),e)},o.prototype.getConstrainedZoom=function(t,o){var e=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(e,o))},o.prototype.getConstrainedResolution=function(t,o){var e=o||0,n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,e,n)},o}(BaseObject);function animationCallback(t,o){setTimeout((function(){t(o)}),0)}export function createCenterConstraint(t){if(void 0!==t.extent){var o=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return createExtent(t.extent,t.constrainOnlyCenter,o)}var e=createProjection(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){var n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,createExtent(n,!1,!1)}return centerNone}export function createResolutionConstraint(t){var o,e,n,i=void 0!==t.minZoom?t.minZoom:DEFAULT_MIN_ZOOM,r=void 0!==t.maxZoom?t.maxZoom:28,s=void 0!==t.zoomFactor?t.zoomFactor:2,a=void 0!==t.multiWorld&&t.multiWorld,h=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,u=void 0!==t.showFullExtent&&t.showFullExtent,l=createProjection(t.projection,"EPSG:3857"),c=l.getExtent(),p=t.constrainOnlyCenter,g=t.extent;if(a||g||!l.isGlobal()||(p=!1,g=c),void 0!==t.resolutions){var m=t.resolutions;e=m[i],n=void 0!==m[r]?m[r]:m[m.length-1],o=t.constrainResolution?createSnapToResolutions(m,h,!p&&g,u):createMinMaxResolution(e,n,h,!p&&g,u)}else{var _=(c?Math.max(getWidth(c),getHeight(c)):360*METERS_PER_UNIT[Units.DEGREES]/l.getMetersPerUnit())/DEFAULT_TILE_SIZE/Math.pow(2,DEFAULT_MIN_ZOOM),d=_/Math.pow(2,28-DEFAULT_MIN_ZOOM);void 0!==(e=t.maxResolution)?i=0:e=_/Math.pow(s,i),void 0===(n=t.minResolution)&&(n=void 0!==t.maxZoom?void 0!==t.maxResolution?e/Math.pow(s,r):_/Math.pow(s,r):d),r=i+Math.floor(Math.log(e/n)/Math.log(s)),n=e/Math.pow(s,r-i),o=t.constrainResolution?createSnapToPower(s,e,n,h,!p&&g,u):createMinMaxResolution(e,n,h,!p&&g,u)}return{constraint:o,maxResolution:e,minResolution:n,minZoom:i,zoomFactor:s}}export function createRotationConstraint(t){if(void 0===t.enableRotation||t.enableRotation){var o=t.constrainRotation;return void 0===o||!0===o?createSnapToZero():!1===o?rotationNone:"number"==typeof o?createSnapToN(o):rotationNone}return disable}export function isNoopAnimation(t){return!(t.sourceCenter&&t.targetCenter&&!coordinatesEqual(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}function calculateCenterOn(t,o,e,n,i){var r=Math.cos(-i),s=Math.sin(-i),a=t[0]*r-t[1]*s,h=t[1]*r+t[0]*s;return[(a+=(o[0]/2-e[0])*n)*r-(h+=(e[1]-o[1]/2)*n)*(s=-s),h*r+a*s]}export default View;
//# sourceMappingURL=/sm/d44f9aa1d14ec0472aa452df9bf909a5df3aba37566ac995bf39cdf605ab4d1c.map