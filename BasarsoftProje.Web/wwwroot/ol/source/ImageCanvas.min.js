/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/ol@6.12.0/source/ImageCanvas.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __extends=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();import ImageCanvas from"../ImageCanvas.js";import ImageSource from"./Image.js";import{containsExtent,getHeight,getWidth,scaleFromCenter}from"../extent.js";var ImageCanvasSource=function(t){function e(e){var n=this,o=e||{},i=void 0===o.imageSmoothing||o.imageSmoothing;return void 0!==o.interpolate&&(i=o.interpolate),(n=t.call(this,{attributions:o.attributions,interpolate:i,projection:o.projection,resolutions:o.resolutions,state:o.state})||this).canvasFunction_=o.canvasFunction,n.canvas_=null,n.renderedRevision_=0,n.ratio_=void 0!==o.ratio?o.ratio:1.5,n}return __extends(e,t),e.prototype.getImageInternal=function(t,e,n,o){e=this.findNearestResolution(e);var i=this.canvas_;if(i&&this.renderedRevision_==this.getRevision()&&i.getResolution()==e&&i.getPixelRatio()==n&&containsExtent(i.getExtent(),t))return i;t=t.slice(),scaleFromCenter(t,this.ratio_);var r=[getWidth(t)/e*n,getHeight(t)/e*n],a=this.canvasFunction_.call(this,t,e,n,r,o);return a&&(i=new ImageCanvas(t,e,n,a)),this.canvas_=i,this.renderedRevision_=this.getRevision(),i},e}(ImageSource);export default ImageCanvasSource;
//# sourceMappingURL=/sm/e311074e701150225ac0a48ce879e6ef60bed853372936e03eaee150bc1112d0.map