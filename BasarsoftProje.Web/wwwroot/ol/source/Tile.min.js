/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/ol@6.12.0/source/Tile.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __extends=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}();import Event from"../events/Event.js";import Source from"./Source.js";import TileCache from"../TileCache.js";import TileState from"../TileState.js";import{abstract}from"../util.js";import{assert}from"../asserts.js";import{equivalent}from"../proj.js";import{getKeyZXY,withinExtentAndZ}from"../tilecoord.js";import{getForProjection as getTileGridForProjection,wrapX}from"../tilegrid.js";import{scale as scaleSize,toSize}from"../size.js";var TileSource=function(t){function e(e){var i=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate})||this;i.on,i.once,i.un,i.opaque_=void 0!==e.opaque&&e.opaque,i.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,i.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var o=e.tileGrid;return o&&toSize(o.getTileSize(o.getMinZoom()),[256,256]),i.tileCache=new TileCache(e.cacheSize||0),i.tmpSize=[0,0],i.key_=e.key||"",i.tileOptions={transition:e.transition,interpolate:e.interpolate},i.zDirection=e.zDirection?e.zDirection:0,i}return __extends(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);i&&i.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,i,o){var r=this.getTileCacheForProjection(t);if(!r)return!1;for(var n,a,c,l=!0,p=i.minX;p<=i.maxX;++p)for(var s=i.minY;s<=i.maxY;++s)a=getKeyZXY(e,p,s),c=!1,r.containsKey(a)&&(c=(n=r.get(a)).getState()===TileState.LOADED)&&(c=!1!==o(n)),c||(l=!1);return l},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,i,o,r){return abstract()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:getTileGridForProjection(t)},e.prototype.getTileCacheForProjection=function(t){return assert(equivalent(this.getProjection(),t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,i){var o=this.getTileGridForProjection(i),r=this.getTilePixelRatio(e),n=toSize(o.getTileSize(t),this.tmpSize);return 1==r?n:scaleSize(n,r,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var i=void 0!==e?e:this.getProjection(),o=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=wrapX(o,t,i)),withinExtentAndZ(t,o)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,e){var i=this.getTileCacheForProjection(e);t>i.highWaterMark&&(i.highWaterMark=t)},e.prototype.useTile=function(t,e,i,o){},e}(Source),TileSourceEvent=function(t){function e(e,i){var o=t.call(this,e)||this;return o.tile=i,o}return __extends(e,t),e}(Event);export{TileSourceEvent};export default TileSource;
//# sourceMappingURL=/sm/04b55e993813041ebef45c4e368b27f868ec4e7d53f531dd4c66122eece43d52.map