/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/ol@6.12.0/src/resolutionconstraint.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{clamp}from"./math.js";import{getHeight,getWidth}from"./extent.js";import{linearFindNearest}from"./array.js";function getViewportClampedResolution(t,o,e,n){const a=getWidth(o)/e[0],i=getHeight(o)/e[1];return n?Math.min(t,Math.max(a,i)):Math.min(t,Math.min(a,i))}function getSmoothClampedResolution(t,o,e){let n=Math.min(t,o);return n*=Math.log(1+50*Math.max(0,t/o-1))/50+1,e&&(n=Math.max(n,e),n/=Math.log(1+50*Math.max(0,e/t-1))/50+1),clamp(n,e/2,2*o)}export function createSnapToResolutions(t,o,e,n){return function(a,i,r,l){if(void 0!==a){const m=t[0],h=t[t.length-1],u=e?getViewportClampedResolution(m,e,r,n):m;if(l){return void 0===o||o?getSmoothClampedResolution(a,u,h):clamp(a,h,u)}const p=Math.min(u,a),c=Math.floor(linearFindNearest(t,p,i));return t[c]>u&&c<t.length-1?t[c+1]:t[c]}}}export function createSnapToPower(t,o,e,n,a,i){return function(r,l,m,h){if(void 0!==r){const u=a?getViewportClampedResolution(o,a,m,i):o,p=void 0!==e?e:0;if(h){return void 0===n||n?getSmoothClampedResolution(r,u,p):clamp(r,p,u)}const c=1e-9,M=Math.ceil(Math.log(o/u)/Math.log(t)-c),g=-l*(.5-c)+.5,s=Math.min(u,r),d=Math.floor(Math.log(o/s)/Math.log(t)+g),f=Math.max(M,d),x=o/Math.pow(t,f);return clamp(x,p,u)}}}export function createMinMaxResolution(t,o,e,n,a){return function(i,r,l,m){if(void 0!==i){const r=n?getViewportClampedResolution(t,n,l,a):t;return(void 0===e||e)&&m?getSmoothClampedResolution(i,r,o):clamp(i,o,r)}}}
//# sourceMappingURL=/sm/5e6b19eceae29b6401e65e456ed9ad74195c5d43827dcc279ef95260457f248a.map