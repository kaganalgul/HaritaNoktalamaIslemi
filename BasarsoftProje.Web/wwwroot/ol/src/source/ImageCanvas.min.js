/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/ol@6.12.0/src/source/ImageCanvas.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import ImageCanvas from"../ImageCanvas.js";import ImageSource from"./Image.js";import{containsExtent,getHeight,getWidth,scaleFromCenter}from"../extent.js";class ImageCanvasSource extends ImageSource{constructor(t){const e=t||{};let i=void 0===e.imageSmoothing||e.imageSmoothing;void 0!==e.interpolate&&(i=e.interpolate),super({attributions:e.attributions,interpolate:i,projection:e.projection,resolutions:e.resolutions,state:e.state}),this.canvasFunction_=e.canvasFunction,this.canvas_=null,this.renderedRevision_=0,this.ratio_=void 0!==e.ratio?e.ratio:1.5}getImageInternal(t,e,i,n){e=this.findNearestResolution(e);let o=this.canvas_;if(o&&this.renderedRevision_==this.getRevision()&&o.getResolution()==e&&o.getPixelRatio()==i&&containsExtent(o.getExtent(),t))return o;t=t.slice(),scaleFromCenter(t,this.ratio_);const s=[getWidth(t)/e*i,getHeight(t)/e*i],a=this.canvasFunction_.call(this,t,e,i,s,n);return a&&(o=new ImageCanvas(t,e,i,a)),this.canvas_=o,this.renderedRevision_=this.getRevision(),o}}export default ImageCanvasSource;
//# sourceMappingURL=/sm/d3a571d9b07dd6d054eb64b36d880284ce14489557fbacf45273f06254cee8d4.map