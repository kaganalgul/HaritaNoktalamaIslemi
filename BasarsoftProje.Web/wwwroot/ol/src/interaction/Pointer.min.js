/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/ol@6.12.0/src/interaction/Pointer.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import Interaction from"./Interaction.js";import MapBrowserEventType from"../MapBrowserEventType.js";import{getValues}from"../obj.js";class PointerInteraction extends Interaction{constructor(e){const t=e||{};super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==MapBrowserEventType.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==MapBrowserEventType.POINTERUP){const t=this.handleUpEvent(e);this.handlingDownUpSequence=t&&this.targetPointers.length>0}}else if(e.type==MapBrowserEventType.POINTERDOWN){const n=this.handleDownEvent(e);this.handlingDownUpSequence=n,t=this.stopDown(n)}else e.type==MapBrowserEventType.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){if(isPointerDraggingEvent(e)){const t=e.originalEvent,n=t.pointerId.toString();e.type==MapBrowserEventType.POINTERUP?delete this.trackedPointers_[n]:(e.type==MapBrowserEventType.POINTERDOWN||n in this.trackedPointers_)&&(this.trackedPointers_[n]=t),this.targetPointers=getValues(this.trackedPointers_)}}}export function centroid(e){const t=e.length;let n=0,r=0;for(let o=0;o<t;o++)n+=e[o].clientX,r+=e[o].clientY;return[n/t,r/t]}function isPointerDraggingEvent(e){const t=e.type;return t===MapBrowserEventType.POINTERDOWN||t===MapBrowserEventType.POINTERDRAG||t===MapBrowserEventType.POINTERUP}export default PointerInteraction;
//# sourceMappingURL=/sm/f9272b731e9ed92e909d7c0a4af61cc22c5c89a295478872b3b4953474fb2e58.map