/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/ol@6.12.0/src/interaction/PinchZoom.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import PointerInteraction,{centroid as centroidFromPointers}from"./Pointer.js";import{FALSE}from"../functions.js";class PinchZoom extends PointerInteraction{constructor(t){const n=t||{},e=n;e.stopDown||(e.stopDown=FALSE),super(e),this.anchor_=null,this.duration_=void 0!==n.duration?n.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let n=1;const e=this.targetPointers[0],i=this.targetPointers[1],o=e.clientX-i.clientX,s=e.clientY-i.clientY,r=Math.sqrt(o*o+s*s);void 0!==this.lastDistance_&&(n=this.lastDistance_/r),this.lastDistance_=r;const a=t.map,l=a.getView();1!=n&&(this.lastScaleDelta_=n);const c=a.getViewport().getBoundingClientRect(),h=centroidFromPointers(this.targetPointers);h[0]-=c.left,h[1]-=c.top,this.anchor_=a.getCoordinateFromPixelInternal(h),a.render(),l.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const n=t.map.getView(),e=this.lastScaleDelta_>1?1:-1;return n.endInteraction(this.duration_,e),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}export default PinchZoom;
//# sourceMappingURL=/sm/eb23e9861bb8e1fd780b1f39a1f06f3cc86d3099686667ac1e23b2b720102926.map