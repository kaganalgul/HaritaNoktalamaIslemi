/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/ol@6.12.0/src/interaction/DragRotateAndZoom.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import PointerInteraction from"./Pointer.js";import{mouseOnly,shiftKeyOnly}from"../events/condition.js";class DragRotateAndZoom extends PointerInteraction{constructor(t){const n=t||{};super(n),this.condition_=n.condition?n.condition:shiftKeyOnly,this.lastAngle_=void 0,this.lastMagnitude_=void 0,this.lastScaleDelta_=0,this.duration_=void 0!==n.duration?n.duration:400}handleDragEvent(t){if(!mouseOnly(t))return;const n=t.map,i=n.getSize(),e=t.pixel,a=e[0]-i[0]/2,s=i[1]/2-e[1],o=Math.atan2(s,a),l=Math.sqrt(a*a+s*s),d=n.getView();if(void 0!==this.lastAngle_){const t=this.lastAngle_-o;d.adjustRotationInternal(t)}this.lastAngle_=o,void 0!==this.lastMagnitude_&&d.adjustResolutionInternal(this.lastMagnitude_/l),void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/l),this.lastMagnitude_=l}handleUpEvent(t){if(!mouseOnly(t))return!0;const n=t.map.getView(),i=this.lastScaleDelta_>1?1:-1;return n.endInteraction(this.duration_,i),this.lastScaleDelta_=0,!1}handleDownEvent(t){return!!mouseOnly(t)&&(!!this.condition_(t)&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0))}}export default DragRotateAndZoom;
//# sourceMappingURL=/sm/685f4eb6852a7b0840d0ec49e778bef4f298c45b916b8c835137f40a09d96ed4.map