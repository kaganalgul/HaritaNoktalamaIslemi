/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/ol@6.12.0/src/events/Target.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import Disposable from"../Disposable.js";import Event from"./Event.js";import{VOID}from"../functions.js";import{clear}from"../obj.js";class Target extends Disposable{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const s=this.listeners_||(this.listeners_={}),i=s[e]||(s[e]=[]);-1===i.indexOf(t)&&i.push(t)}dispatchEvent(e){const t="string"==typeof e?new Event(e):e,s=t.type;t.target||(t.target=this.eventTarget_||this);const i=this.listeners_&&this.listeners_[s];let n;if(i){const e=this.dispatching_||(this.dispatching_={}),r=this.pendingRemovals_||(this.pendingRemovals_={});s in e||(e[s]=0,r[s]=0),++e[s];for(let e=0,s=i.length;e<s;++e)if(n="handleEvent"in i[e]?i[e].handleEvent(t):i[e].call(this,t),!1===n||t.propagationStopped){n=!1;break}if(--e[s],0===e[s]){let t=r[s];for(delete r[s];t--;)this.removeEventListener(s,VOID);delete e[s]}return n}}disposeInternal(){this.listeners_&&clear(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(e,t){const s=this.listeners_&&this.listeners_[e];if(s){const i=s.indexOf(t);-1!==i&&(this.pendingRemovals_&&e in this.pendingRemovals_?(s[i]=VOID,++this.pendingRemovals_[e]):(s.splice(i,1),0===s.length&&delete this.listeners_[e]))}}}export default Target;
//# sourceMappingURL=/sm/dd9f637402e670433d6e567c95182a411a89f8e3e5493dc2cbd8c7afb85e4912.map