/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/ol@6.12.0/src/Collection.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import AssertionError from"./AssertionError.js";import BaseObject from"./Object.js";import CollectionEventType from"./CollectionEventType.js";import Event from"./events/Event.js";const Property={LENGTH:"length"};export class CollectionEvent extends Event{constructor(t,e,s){super(t),this.element=e,this.index=s}}class Collection extends BaseObject{constructor(t,e){super(),this.on,this.once,this.un;const s=e||{};if(this.unique_=!!s.unique,this.array_=t||[],this.unique_)for(let t=0,e=this.array_.length;t<e;++t)this.assertUnique_(this.array_[t],t);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let e=0,s=t.length;e<s;++e)this.push(t[e]);return this}forEach(t){const e=this.array_;for(let s=0,r=e.length;s<r;++s)t(e[s],s,e)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(Property.LENGTH)}insertAt(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new CollectionEvent(CollectionEventType.ADD,e,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const e=this.getLength();return this.insertAt(e,t),this.getLength()}remove(t){const e=this.array_;for(let s=0,r=e.length;s<r;++s)if(e[s]===t)return this.removeAt(s)}removeAt(t){const e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new CollectionEvent(CollectionEventType.REMOVE,e,t)),e}setAt(t,e){const s=this.getLength();if(t<s){this.unique_&&this.assertUnique_(e,t);const s=this.array_[t];this.array_[t]=e,this.dispatchEvent(new CollectionEvent(CollectionEventType.REMOVE,s,t)),this.dispatchEvent(new CollectionEvent(CollectionEventType.ADD,e,t))}else{for(let e=s;e<t;++e)this.insertAt(e,void 0);this.insertAt(t,e)}}updateLength_(){this.set(Property.LENGTH,this.array_.length)}assertUnique_(t,e){for(let s=0,r=this.array_.length;s<r;++s)if(this.array_[s]===t&&s!==e)throw new AssertionError(58)}}export default Collection;
//# sourceMappingURL=/sm/159d82a5268562f40628cccbebfb96509e94722cf9960d4550ace9ebccfab8c6.map