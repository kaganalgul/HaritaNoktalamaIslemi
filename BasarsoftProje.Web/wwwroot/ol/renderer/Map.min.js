/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/ol@6.12.0/renderer/Map.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __extends=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();import Disposable from"../Disposable.js";import{TRUE}from"../functions.js";import{abstract}from"../util.js";import{compose as composeTransform,makeInverse}from"../transform.js";import{getWidth}from"../extent.js";import{shared as iconImageCache}from"../style/IconImageCache.js";import{inView}from"../layer/Layer.js";import{wrapX}from"../coordinate.js";var MapRenderer=function(e){function t(t){var r=e.call(this)||this;return r.map_=t,r}return __extends(t,e),t.prototype.dispatchRenderEvent=function(e,t){abstract()},t.prototype.calculateMatrices2D=function(e){var t=e.viewState,r=e.coordinateToPixelTransform,o=e.pixelToCoordinateTransform;composeTransform(r,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),makeInverse(o,r)},t.prototype.forEachFeatureAtCoordinate=function(e,t,r,o,n,a,i,c){var s,p=t.viewState;function u(e,t,r,o){return n.call(a,t,e?r:null,o)}var f=p.projection,l=wrapX(e.slice(),f),h=[[0,0]];if(f.canWrapX()&&o){var m=f.getExtent(),d=getWidth(m);h.push([-d,0],[d,0])}for(var y=t.layerStatesArray,v=y.length,g=[],_=[],x=0;x<h.length;x++)for(var C=v-1;C>=0;--C){var b=y[C],j=b.layer;if(j.hasRenderer()&&inView(b,p)&&i.call(c,j)){var E=j.getRenderer(),w=j.getSource();if(E&&w){var I=w.getWrapX()?l:e,T=u.bind(null,b.managed);_[0]=I[0]+h[x][0],_[1]=I[1]+h[x][1],s=E.forEachFeatureAtCoordinate(_,t,r,T,g)}if(s)return s}}if(0!==g.length){var R=1/g.length;return g.forEach((function(e,t){return e.distanceSq+=t*R})),g.sort((function(e,t){return e.distanceSq-t.distanceSq})),g.some((function(e){return s=e.callback(e.feature,e.layer,e.geometry)})),s}},t.prototype.forEachLayerAtPixel=function(e,t,r,o,n){return abstract()},t.prototype.hasFeatureAtCoordinate=function(e,t,r,o,n,a){return void 0!==this.forEachFeatureAtCoordinate(e,t,r,o,TRUE,this,n,a)},t.prototype.getMap=function(){return this.map_},t.prototype.renderFrame=function(e){abstract()},t.prototype.scheduleExpireIconCache=function(e){iconImageCache.canExpireCache()&&e.postRenderFunctions.push(expireIconCache)},t}(Disposable);function expireIconCache(e,t){iconImageCache.expire()}export default MapRenderer;
//# sourceMappingURL=/sm/4f760e8d07242c439dae8165cb9d6be0abdf79d33c0607c2fff6b8650d7a60f5.map