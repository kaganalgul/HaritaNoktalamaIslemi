/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/ol@6.12.0/interaction/DragPan.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __extends=this&&this.__extends||function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}}();import PointerInteraction,{centroid as centroidFromPointers}from"./Pointer.js";import{FALSE}from"../functions.js";import{all,focusWithTabindex,noModifierKeys,primaryAction}from"../events/condition.js";import{easeOut}from"../easing.js";import{rotate as rotateCoordinate,scale as scaleCoordinate}from"../coordinate.js";var DragPan=function(t){function n(n){var i=t.call(this,{stopDown:FALSE})||this,e=n||{};i.kinetic_=e.kinetic,i.lastCentroid=null,i.lastPointersCount_,i.panning_=!1;var o=e.condition?e.condition:all(noModifierKeys,primaryAction);return i.condition_=e.onFocusOnly?all(focusWithTabindex,o):o,i.noKinetic_=!1,i}return __extends(n,t),n.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var n=this.targetPointers,i=centroidFromPointers(n);if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var e=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],o=t.map.getView();scaleCoordinate(e,o.getResolution()),rotateCoordinate(e,o.getRotation()),o.adjustCenterInternal(e)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,t.originalEvent.preventDefault()},n.prototype.handleUpEvent=function(t){var n=t.map,i=n.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var e=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),r=i.getCenterInternal(),a=n.getPixelFromCoordinateInternal(r),s=n.getCoordinateFromPixelInternal([a[0]-e*Math.cos(o),a[1]-e*Math.sin(o)]);i.animateInternal({center:i.getConstrainedCenter(s),duration:500,easing:easeOut})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},n.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var n=t.map.getView();return this.lastCentroid=null,n.getAnimating()&&n.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},n}(PointerInteraction);export default DragPan;
//# sourceMappingURL=/sm/f28f4d4cc804e806f7764fe0d6201f7dce2fe4c5e75daa008d9c7684491a9d49.map