/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/ol@6.12.0/format/GeoJSON.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __extends=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();import Feature from"../Feature.js";import GeometryCollection from"../geom/GeometryCollection.js";import GeometryType from"../geom/GeometryType.js";import JSONFeature from"./JSONFeature.js";import LineString from"../geom/LineString.js";import MultiLineString from"../geom/MultiLineString.js";import MultiPoint from"../geom/MultiPoint.js";import MultiPolygon from"../geom/MultiPolygon.js";import Point from"../geom/Point.js";import Polygon from"../geom/Polygon.js";import{assert}from"../asserts.js";import{assign,isEmpty}from"../obj.js";import{get as getProjection}from"../proj.js";import{transformGeometryWithOptions}from"./Feature.js";var GeoJSON=function(e){function t(t){var r=this,o=t||{};return(r=e.call(this)||this).dataProjection=getProjection(o.dataProjection?o.dataProjection:"EPSG:4326"),o.featureProjection&&(r.defaultFeatureProjection=getProjection(o.featureProjection)),r.geometryName_=o.geometryName,r.extractGeometryName_=o.extractGeometryName,r.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],r}return __extends(t,e),t.prototype.readFeatureFromObject=function(e,t){var r=null,o=readGeometry((r="Feature"===e.type?e:{type:"Feature",geometry:e,properties:null}).geometry,t),n=new Feature;return this.geometryName_?n.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in r!==void 0&&n.setGeometryName(r.geometry_name),n.setGeometry(o),"id"in r&&n.setId(r.id),r.properties&&n.setProperties(r.properties,!0),n},t.prototype.readFeaturesFromObject=function(e,t){var r=null;if("FeatureCollection"===e.type){r=[];for(var o=e.features,n=0,i=o.length;n<i;++n)r.push(this.readFeatureFromObject(o[n],t))}else r=[this.readFeatureFromObject(e,t)];return r},t.prototype.readGeometryFromObject=function(e,t){return readGeometry(e,t)},t.prototype.readProjectionFromObject=function(e){var t,r=e.crs;return r?"name"==r.type?t=getProjection(r.properties.name):"EPSG"===r.type?t=getProjection("EPSG:"+r.properties.code):assert(!1,36):t=this.dataProjection,t},t.prototype.writeFeatureObject=function(e,t){t=this.adaptOptions(t);var r={type:"Feature",geometry:null,properties:null},o=e.getId();if(void 0!==o&&(r.id=o),!e.hasProperties())return r;var n=e.getProperties(),i=e.getGeometry();return i&&(r.geometry=writeGeometry(i,t),delete n[e.getGeometryName()]),isEmpty(n)||(r.properties=n),r},t.prototype.writeFeaturesObject=function(e,t){t=this.adaptOptions(t);for(var r=[],o=0,n=e.length;o<n;++o)r.push(this.writeFeatureObject(e[o],t));return{type:"FeatureCollection",features:r}},t.prototype.writeGeometryObject=function(e,t){return writeGeometry(e,this.adaptOptions(t))},t}(JSONFeature);function readGeometry(e,t){if(!e)return null;var r;switch(e.type){case GeometryType.POINT:r=readPointGeometry(e);break;case GeometryType.LINE_STRING:r=readLineStringGeometry(e);break;case GeometryType.POLYGON:r=readPolygonGeometry(e);break;case GeometryType.MULTI_POINT:r=readMultiPointGeometry(e);break;case GeometryType.MULTI_LINE_STRING:r=readMultiLineStringGeometry(e);break;case GeometryType.MULTI_POLYGON:r=readMultiPolygonGeometry(e);break;case GeometryType.GEOMETRY_COLLECTION:r=readGeometryCollectionGeometry(e);break;default:throw new Error("Unsupported GeoJSON type: "+e.type)}return transformGeometryWithOptions(r,!1,t)}function readGeometryCollectionGeometry(e,t){var r=e.geometries.map((function(e){return readGeometry(e,t)}));return new GeometryCollection(r)}function readPointGeometry(e){return new Point(e.coordinates)}function readLineStringGeometry(e){return new LineString(e.coordinates)}function readMultiLineStringGeometry(e){return new MultiLineString(e.coordinates)}function readMultiPointGeometry(e){return new MultiPoint(e.coordinates)}function readMultiPolygonGeometry(e){return new MultiPolygon(e.coordinates)}function readPolygonGeometry(e){return new Polygon(e.coordinates)}function writeGeometry(e,t){var r,o=(e=transformGeometryWithOptions(e,!0,t)).getType();switch(o){case GeometryType.POINT:r=writePointGeometry(e,t);break;case GeometryType.LINE_STRING:r=writeLineStringGeometry(e,t);break;case GeometryType.POLYGON:r=writePolygonGeometry(e,t);break;case GeometryType.MULTI_POINT:r=writeMultiPointGeometry(e,t);break;case GeometryType.MULTI_LINE_STRING:r=writeMultiLineStringGeometry(e,t);break;case GeometryType.MULTI_POLYGON:r=writeMultiPolygonGeometry(e,t);break;case GeometryType.GEOMETRY_COLLECTION:r=writeGeometryCollectionGeometry(e,t);break;case GeometryType.CIRCLE:r={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+o)}return r}function writeGeometryCollectionGeometry(e,t){return{type:"GeometryCollection",geometries:e.getGeometriesArray().map((function(e){var r=assign({},t);return delete r.featureProjection,writeGeometry(e,r)}))}}function writeLineStringGeometry(e,t){return{type:"LineString",coordinates:e.getCoordinates()}}function writeMultiLineStringGeometry(e,t){return{type:"MultiLineString",coordinates:e.getCoordinates()}}function writeMultiPointGeometry(e,t){return{type:"MultiPoint",coordinates:e.getCoordinates()}}function writeMultiPolygonGeometry(e,t){var r;return t&&(r=t.rightHanded),{type:"MultiPolygon",coordinates:e.getCoordinates(r)}}function writePointGeometry(e,t){return{type:"Point",coordinates:e.getCoordinates()}}function writePolygonGeometry(e,t){var r;return t&&(r=t.rightHanded),{type:"Polygon",coordinates:e.getCoordinates(r)}}export default GeoJSON;
//# sourceMappingURL=/sm/1c120a0458a630ae9663f6cb5808b85922051e6a7ce07b634ead1ed2ae43d3b1.map