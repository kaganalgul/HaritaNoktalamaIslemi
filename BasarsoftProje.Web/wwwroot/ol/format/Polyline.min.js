/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/ol@6.12.0/format/Polyline.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __extends=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();import Feature from"../Feature.js";import GeometryLayout from"../geom/GeometryLayout.js";import LineString from"../geom/LineString.js";import TextFeature from"./TextFeature.js";import{assert}from"../asserts.js";import{flipXY}from"../geom/flat/flip.js";import{get as getProjection}from"../proj.js";import{getStrideForLayout}from"../geom/SimpleGeometry.js";import{inflateCoordinates}from"../geom/flat/inflate.js";import{transformGeometryWithOptions}from"./Feature.js";var Polyline=function(e){function t(t){var r=e.call(this)||this,o=t||{};return r.dataProjection=getProjection("EPSG:4326"),r.factor_=o.factor?o.factor:1e5,r.geometryLayout_=o.geometryLayout?o.geometryLayout:GeometryLayout.XY,r}return __extends(t,e),t.prototype.readFeatureFromText=function(e,t){var r=this.readGeometryFromText(e,t);return new Feature(r)},t.prototype.readFeaturesFromText=function(e,t){return[this.readFeatureFromText(e,t)]},t.prototype.readGeometryFromText=function(e,t){var r=getStrideForLayout(this.geometryLayout_),o=decodeDeltas(e,r,this.factor_);flipXY(o,0,o.length,r,o);var n=inflateCoordinates(o,0,o.length,r),a=new LineString(n,this.geometryLayout_);return transformGeometryWithOptions(a,!1,this.adaptOptions(t))},t.prototype.writeFeatureText=function(e,t){var r=e.getGeometry();return r?this.writeGeometryText(r,t):(assert(!1,40),"")},t.prototype.writeFeaturesText=function(e,t){return this.writeFeatureText(e[0],t)},t.prototype.writeGeometryText=function(e,t){var r=(e=transformGeometryWithOptions(e,!0,this.adaptOptions(t))).getFlatCoordinates(),o=e.getStride();return flipXY(r,0,r.length,o,r),encodeDeltas(r,o,this.factor_)},t}(TextFeature);export function encodeDeltas(e,t,r){var o,n=r||1e5,a=new Array(t);for(o=0;o<t;++o)a[o]=0;for(var i=0,s=e.length;i<s;)for(o=0;o<t;++o,++i){var u=e[i],f=u-a[o];a[o]=u,e[i]=f}return encodeFloats(e,n)}export function decodeDeltas(e,t,r){var o,n=r||1e5,a=new Array(t);for(o=0;o<t;++o)a[o]=0;for(var i=decodeFloats(e,n),s=0,u=i.length;s<u;)for(o=0;o<t;++o,++s)a[o]+=i[s],i[s]=a[o];return i}export function encodeFloats(e,t){for(var r=t||1e5,o=0,n=e.length;o<n;++o)e[o]=Math.round(e[o]*r);return encodeSignedIntegers(e)}export function decodeFloats(e,t){for(var r=t||1e5,o=decodeSignedIntegers(e),n=0,a=o.length;n<a;++n)o[n]/=r;return o}export function encodeSignedIntegers(e){for(var t=0,r=e.length;t<r;++t){var o=e[t];e[t]=o<0?~(o<<1):o<<1}return encodeUnsignedIntegers(e)}export function decodeSignedIntegers(e){for(var t=decodeUnsignedIntegers(e),r=0,o=t.length;r<o;++r){var n=t[r];t[r]=1&n?~(n>>1):n>>1}return t}export function encodeUnsignedIntegers(e){for(var t="",r=0,o=e.length;r<o;++r)t+=encodeUnsignedInteger(e[r]);return t}export function decodeUnsignedIntegers(e){for(var t=[],r=0,o=0,n=0,a=e.length;n<a;++n){var i=e.charCodeAt(n)-63;r|=(31&i)<<o,i<32?(t.push(r),r=0,o=0):o+=5}return t}export function encodeUnsignedInteger(e){for(var t,r="";e>=32;)t=63+(32|31&e),r+=String.fromCharCode(t),e>>=5;return t=e+63,r+=String.fromCharCode(t)}export default Polyline;
//# sourceMappingURL=/sm/3192fd65094f50cced2013ea91f3829227506998e4f5716179dd98444df1eeba.map