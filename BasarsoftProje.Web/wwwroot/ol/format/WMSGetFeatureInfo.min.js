/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/ol@6.12.0/format/WMSGetFeatureInfo.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __extends=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();import GML2 from"./GML2.js";import XMLFeature from"./XMLFeature.js";import{assign}from"../obj.js";import{extend,includes}from"../array.js";import{makeArrayPusher,makeStructureNS,pushParseAndPop}from"../xml.js";var featureIdentifier="_feature",layerIdentifier="_layer",WMSGetFeatureInfo=function(e){function t(t){var r=e.call(this)||this,a=t||{};return r.featureNS_="http://mapserver.gis.umn.edu/mapserver",r.gmlFormat_=new GML2,r.layers_=a.layers?a.layers:null,r}return __extends(t,e),t.prototype.getLayers=function(){return this.layers_},t.prototype.setLayers=function(e){this.layers_=e},t.prototype.readFeatures_=function(e,t){e.setAttribute("namespaceURI",this.featureNS_);var r=e.localName,a=[];if(0===e.childNodes.length)return a;if("msGMLOutput"==r)for(var o=0,n=e.childNodes.length;o<n;o++){var s=e.childNodes[o];if(s.nodeType===Node.ELEMENT_NODE){var i=s,u=t[0],l=layerIdentifier,f=i.localName.replace(l,"");if(!this.layers_||includes(this.layers_,f)){var p=f+featureIdentifier;u.featureType=p,u.featureNS=this.featureNS_;var c={};c[p]=makeArrayPusher(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var m=makeStructureNS([u.featureNS,null],c);i.setAttribute("namespaceURI",this.featureNS_);var _=pushParseAndPop([],m,i,t,this.gmlFormat_);_&&extend(a,_)}}}if("FeatureCollection"==r){var h=pushParseAndPop([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,[{}],this.gmlFormat_);h&&(a=h)}return a},t.prototype.readFeaturesFromNode=function(e,t){var r={};return t&&assign(r,this.getReadOptions(e,t)),this.readFeatures_(e,[r])},t}(XMLFeature);export default WMSGetFeatureInfo;
//# sourceMappingURL=/sm/89c39014a62ce8d6162015f3753886e37e43d89b68cb928d1fd6d8aaad899577.map