/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/ol@6.12.0/geom/flat/closest.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{lerp,squaredDistance as squaredDx}from"../../math.js";function assignClosest(r,a,t,e,n,s,o){var i,l=r[a],u=r[a+1],f=r[t]-l,g=r[t+1]-u;if(0===f&&0===g)i=a;else{var x=((n-l)*f+(s-u)*g)/(f*f+g*g);if(x>1)i=t;else{if(x>0){for(var v=0;v<e;++v)o[v]=lerp(r[a+v],r[t+v],x);return void(o.length=e)}i=a}}for(v=0;v<e;++v)o[v]=r[i+v];o.length=e}export function maxSquaredDelta(r,a,t,e,n){var s=r[a],o=r[a+1];for(a+=e;a<t;a+=e){var i=r[a],l=r[a+1],u=squaredDx(s,o,i,l);u>n&&(n=u),s=i,o=l}return n}export function arrayMaxSquaredDelta(r,a,t,e,n){for(var s=0,o=t.length;s<o;++s){var i=t[s];n=maxSquaredDelta(r,a,i,e,n),a=i}return n}export function multiArrayMaxSquaredDelta(r,a,t,e,n){for(var s=0,o=t.length;s<o;++s){var i=t[s];n=arrayMaxSquaredDelta(r,a,i,e,n),a=i[i.length-1]}return n}export function assignClosestPoint(r,a,t,e,n,s,o,i,l,u,f){if(a==t)return u;var g,x;if(0===n){if((x=squaredDx(o,i,r[a],r[a+1]))<u){for(g=0;g<e;++g)l[g]=r[a+g];return l.length=e,x}return u}for(var v=f||[NaN,NaN],h=a+e;h<t;)if(assignClosest(r,h-e,h,e,o,i,v),(x=squaredDx(o,i,v[0],v[1]))<u){for(u=x,g=0;g<e;++g)l[g]=v[g];l.length=e,h+=e}else h+=e*Math.max((Math.sqrt(x)-Math.sqrt(u))/n|0,1);if(s&&(assignClosest(r,t-e,a,e,o,i,v),(x=squaredDx(o,i,v[0],v[1]))<u)){for(u=x,g=0;g<e;++g)l[g]=v[g];l.length=e}return u}export function assignClosestArrayPoint(r,a,t,e,n,s,o,i,l,u,f){for(var g=f||[NaN,NaN],x=0,v=t.length;x<v;++x){var h=t[x];u=assignClosestPoint(r,a,h,e,n,s,o,i,l,u,g),a=h}return u}export function assignClosestMultiArrayPoint(r,a,t,e,n,s,o,i,l,u,f){for(var g=f||[NaN,NaN],x=0,v=t.length;x<v;++x){var h=t[x];u=assignClosestArrayPoint(r,a,h,e,n,s,o,i,l,u,g),a=h[h.length-1]}return u}
//# sourceMappingURL=/sm/489342a08e93abb720b6e0c65fb6c091aa2e4f0269086b9820234a3e3f443d42.map