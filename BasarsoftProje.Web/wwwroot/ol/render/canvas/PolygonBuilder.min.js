/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/ol@6.12.0/render/canvas/PolygonBuilder.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __extends=this&&this.__extends||function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();import CanvasBuilder from"./Builder.js";import CanvasInstruction,{beginPathInstruction,closePathInstruction,fillInstruction,strokeInstruction}from"./Instruction.js";import{defaultFillStyle}from"../canvas.js";import{snap}from"../../geom/flat/simplify.js";var CanvasPolygonBuilder=function(t){function i(i,n,s,e){return t.call(this,i,n,s,e)||this}return __extends(i,t),i.prototype.drawFlatCoordinatess_=function(t,i,n,s){var e=this.state,o=void 0!==e.fillStyle,r=void 0!==e.strokeStyle,l=n.length;this.instructions.push(beginPathInstruction),this.hitDetectionInstructions.push(beginPathInstruction);for(var h=0;h<l;++h){var a=n[h],u=this.coordinates.length,c=this.appendFlatLineCoordinates(t,i,a,s,!0,!r),p=[CanvasInstruction.MOVE_TO_LINE_TO,u,c];this.instructions.push(p),this.hitDetectionInstructions.push(p),r&&(this.instructions.push(closePathInstruction),this.hitDetectionInstructions.push(closePathInstruction)),i=a}return o&&(this.instructions.push(fillInstruction),this.hitDetectionInstructions.push(fillInstruction)),r&&(this.instructions.push(strokeInstruction),this.hitDetectionInstructions.push(strokeInstruction)),i},i.prototype.drawCircle=function(t,i){var n=this.state,s=n.fillStyle,e=n.strokeStyle;if(void 0!==s||void 0!==e){this.setFillStrokeStyles_(),this.beginGeometry(t,i),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([CanvasInstruction.SET_FILL_STYLE,defaultFillStyle]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([CanvasInstruction.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getFlatCoordinates(),r=t.getStride(),l=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,r,!1,!1);var h=[CanvasInstruction.CIRCLE,l];this.instructions.push(beginPathInstruction,h),this.hitDetectionInstructions.push(beginPathInstruction,h),void 0!==n.fillStyle&&(this.instructions.push(fillInstruction),this.hitDetectionInstructions.push(fillInstruction)),void 0!==n.strokeStyle&&(this.instructions.push(strokeInstruction),this.hitDetectionInstructions.push(strokeInstruction)),this.endGeometry(i)}},i.prototype.drawPolygon=function(t,i){var n=this.state,s=n.fillStyle,e=n.strokeStyle;if(void 0!==s||void 0!==e){this.setFillStrokeStyles_(),this.beginGeometry(t,i),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([CanvasInstruction.SET_FILL_STYLE,defaultFillStyle]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([CanvasInstruction.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getEnds(),r=t.getOrientedFlatCoordinates(),l=t.getStride();this.drawFlatCoordinatess_(r,0,o,l),this.endGeometry(i)}},i.prototype.drawMultiPolygon=function(t,i){var n=this.state,s=n.fillStyle,e=n.strokeStyle;if(void 0!==s||void 0!==e){this.setFillStrokeStyles_(),this.beginGeometry(t,i),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([CanvasInstruction.SET_FILL_STYLE,defaultFillStyle]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([CanvasInstruction.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var o=t.getEndss(),r=t.getOrientedFlatCoordinates(),l=t.getStride(),h=0,a=0,u=o.length;a<u;++a)h=this.drawFlatCoordinatess_(r,h,o[a],l);this.endGeometry(i)}},i.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var i=this.tolerance;if(0!==i)for(var n=this.coordinates,s=0,e=n.length;s<e;++s)n[s]=snap(n[s],i);return t.prototype.finish.call(this)},i.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},i}(CanvasBuilder);export default CanvasPolygonBuilder;
//# sourceMappingURL=/sm/c1dcd0985c39ed59358a5cd74f3f0f7e398b752f2a72a28f9cadebff8b7633f1.map