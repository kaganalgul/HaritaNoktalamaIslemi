/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/ol@6.12.0/style/Icon.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __extends=this&&this.__extends||function(){var i=function(t,o){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,t){i.__proto__=t}||function(i,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])},i(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}i(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();import EventType from"../events/EventType.js";import IconAnchorUnits from"./IconAnchorUnits.js";import IconOrigin from"./IconOrigin.js";import ImageState from"../ImageState.js";import ImageStyle from"./Image.js";import{asArray}from"../color.js";import{assert}from"../asserts.js";import{get as getIconImage}from"./IconImage.js";import{getUid}from"../util.js";var Icon=function(i){function t(t){var o=this,n=t||{},r=void 0!==n.opacity?n.opacity:1,e=void 0!==n.rotation?n.rotation:0,s=void 0!==n.scale?n.scale:1,c=void 0!==n.rotateWithView&&n.rotateWithView;(o=i.call(this,{opacity:r,rotation:e,scale:s,displacement:void 0!==n.displacement?n.displacement:[0,0],rotateWithView:c})||this).anchor_=void 0!==n.anchor?n.anchor:[.5,.5],o.normalizedAnchor_=null,o.anchorOrigin_=void 0!==n.anchorOrigin?n.anchorOrigin:IconOrigin.TOP_LEFT,o.anchorXUnits_=void 0!==n.anchorXUnits?n.anchorXUnits:IconAnchorUnits.FRACTION,o.anchorYUnits_=void 0!==n.anchorYUnits?n.anchorYUnits:IconAnchorUnits.FRACTION,o.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null;var a=void 0!==n.img?n.img:null,h=void 0!==n.imgSize?n.imgSize:null,g=n.src;assert(!(void 0!==g&&a),4),assert(!a||a&&h,5),void 0!==g&&0!==g.length||!a||(g=a.src||getUid(a)),assert(void 0!==g&&g.length>0,6);var _=void 0!==n.src?ImageState.IDLE:ImageState.LOADED;return o.color_=void 0!==n.color?asArray(n.color):null,o.iconImage_=getIconImage(a,g,h,o.crossOrigin_,_,o.color_),o.offset_=void 0!==n.offset?n.offset:[0,0],o.offsetOrigin_=void 0!==n.offsetOrigin?n.offsetOrigin:IconOrigin.TOP_LEFT,o.origin_=null,o.size_=void 0!==n.size?n.size:null,o}return __extends(t,i),t.prototype.clone=function(){var i=this.getScale();return new t({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(i)?i.slice():i,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},t.prototype.getAnchor=function(){var i=this.normalizedAnchor_;if(!i){i=this.anchor_;var t=this.getSize();if(this.anchorXUnits_==IconAnchorUnits.FRACTION||this.anchorYUnits_==IconAnchorUnits.FRACTION){if(!t)return null;i=this.anchor_.slice(),this.anchorXUnits_==IconAnchorUnits.FRACTION&&(i[0]*=t[0]),this.anchorYUnits_==IconAnchorUnits.FRACTION&&(i[1]*=t[1])}if(this.anchorOrigin_!=IconOrigin.TOP_LEFT){if(!t)return null;i===this.anchor_&&(i=this.anchor_.slice()),this.anchorOrigin_!=IconOrigin.TOP_RIGHT&&this.anchorOrigin_!=IconOrigin.BOTTOM_RIGHT||(i[0]=-i[0]+t[0]),this.anchorOrigin_!=IconOrigin.BOTTOM_LEFT&&this.anchorOrigin_!=IconOrigin.BOTTOM_RIGHT||(i[1]=-i[1]+t[1])}this.normalizedAnchor_=i}var o=this.getDisplacement();return[i[0]-o[0],i[1]+o[1]]},t.prototype.setAnchor=function(i){this.anchor_=i,this.normalizedAnchor_=null},t.prototype.getColor=function(){return this.color_},t.prototype.getImage=function(i){return this.iconImage_.getImage(i)},t.prototype.getPixelRatio=function(i){return this.iconImage_.getPixelRatio(i)},t.prototype.getImageSize=function(){return this.iconImage_.getSize()},t.prototype.getImageState=function(){return this.iconImage_.getImageState()},t.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},t.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var i=this.offset_;if(this.offsetOrigin_!=IconOrigin.TOP_LEFT){var t=this.getSize(),o=this.iconImage_.getSize();if(!t||!o)return null;i=i.slice(),this.offsetOrigin_!=IconOrigin.TOP_RIGHT&&this.offsetOrigin_!=IconOrigin.BOTTOM_RIGHT||(i[0]=o[0]-t[0]-i[0]),this.offsetOrigin_!=IconOrigin.BOTTOM_LEFT&&this.offsetOrigin_!=IconOrigin.BOTTOM_RIGHT||(i[1]=o[1]-t[1]-i[1])}return this.origin_=i,this.origin_},t.prototype.getSrc=function(){return this.iconImage_.getSrc()},t.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},t.prototype.listenImageChange=function(i){this.iconImage_.addEventListener(EventType.CHANGE,i)},t.prototype.load=function(){this.iconImage_.load()},t.prototype.unlistenImageChange=function(i){this.iconImage_.removeEventListener(EventType.CHANGE,i)},t}(ImageStyle);export default Icon;
//# sourceMappingURL=/sm/26f582cd1ec111b1a8e57bcfd303d31650382628af3e625f640c9fbef193767c.map