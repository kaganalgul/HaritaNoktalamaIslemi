/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/ol@6.12.0/resolutionconstraint.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{clamp}from"./math.js";import{getHeight,getWidth}from"./extent.js";import{linearFindNearest}from"./array.js";function getViewportClampedResolution(t,o,e,a){var i=getWidth(o)/e[0],n=getHeight(o)/e[1];return a?Math.min(t,Math.max(i,n)):Math.min(t,Math.min(i,n))}function getSmoothClampedResolution(t,o,e){var a=Math.min(t,o);return a*=Math.log(1+50*Math.max(0,t/o-1))/50+1,e&&(a=Math.max(a,e),a/=Math.log(1+50*Math.max(0,e/t-1))/50+1),clamp(a,e/2,2*o)}export function createSnapToResolutions(t,o,e,a){return function(i,n,r,l){if(void 0!==i){var m=t[0],h=t[t.length-1],u=e?getViewportClampedResolution(m,e,r,a):m;if(l)return void 0===o||o?getSmoothClampedResolution(i,u,h):clamp(i,h,u);var p=Math.min(u,i),M=Math.floor(linearFindNearest(t,p,n));return t[M]>u&&M<t.length-1?t[M+1]:t[M]}}}export function createSnapToPower(t,o,e,a,i,n){return function(r,l,m,h){if(void 0!==r){var u=i?getViewportClampedResolution(o,i,m,n):o,p=void 0!==e?e:0;if(h)return void 0===a||a?getSmoothClampedResolution(r,u,p):clamp(r,p,u);var M=Math.ceil(Math.log(o/u)/Math.log(t)-1e-9),g=-l*(.5-1e-9)+.5,d=Math.min(u,r),c=Math.floor(Math.log(o/d)/Math.log(t)+g),f=Math.max(M,c),s=o/Math.pow(t,f);return clamp(s,p,u)}}}export function createMinMaxResolution(t,o,e,a,i){return function(n,r,l,m){if(void 0!==n){var h=a?getViewportClampedResolution(t,a,l,i):t;return(void 0===e||e)&&m?getSmoothClampedResolution(n,h,o):clamp(n,o,h)}}}
//# sourceMappingURL=/sm/b1861c2577531ab623e413e31210bd6a738ef6d4d47e9b1714445e1f1b9d702f.map