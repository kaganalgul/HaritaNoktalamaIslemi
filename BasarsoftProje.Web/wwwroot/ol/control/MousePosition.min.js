/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/ol@6.12.0/control/MousePosition.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __extends=this&&this.__extends||function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();import Control from"./Control.js";import EventType from"../pointer/EventType.js";import{get as getProjection,getTransformFromProjections,getUserProjection,identityTransform}from"../proj.js";import{listen}from"../events.js";var PROJECTION="projection",COORDINATE_FORMAT="coordinateFormat",MousePosition=function(t){function e(e){var o=this,r=e||{},n=document.createElement("div");n.className=void 0!==r.className?r.className:"ol-mouse-position",(o=t.call(this,{element:n,render:r.render,target:r.target})||this).on,o.once,o.un,o.addChangeListener(PROJECTION,o.handleProjectionChanged_),r.coordinateFormat&&o.setCoordinateFormat(r.coordinateFormat),r.projection&&o.setProjection(r.projection);var i=!0,s="&#160;";return"undefinedHTML"in r?(void 0!==r.undefinedHTML&&(s=r.undefinedHTML),i=!!s):"placeholder"in r&&(!1===r.placeholder?i=!1:s=String(r.placeholder)),o.placeholder_=s,o.renderOnMouseOut_=i,o.renderedHTML_=n.innerHTML,o.mapProjection_=null,o.transform_=null,o}return __extends(e,t),e.prototype.handleProjectionChanged_=function(){this.transform_=null},e.prototype.getCoordinateFormat=function(){return this.get(COORDINATE_FORMAT)},e.prototype.getProjection=function(){return this.get(PROJECTION)},e.prototype.handleMouseMove=function(t){var e=this.getMap();this.updateHTML_(e.getEventPixel(t))},e.prototype.handleMouseOut=function(t){this.updateHTML_(null)},e.prototype.setMap=function(e){if(t.prototype.setMap.call(this,e),e){var o=e.getViewport();this.listenerKeys.push(listen(o,EventType.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(listen(o,EventType.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null)}},e.prototype.setCoordinateFormat=function(t){this.set(COORDINATE_FORMAT,t)},e.prototype.setProjection=function(t){this.set(PROJECTION,getProjection(t))},e.prototype.updateHTML_=function(t){var e=this.placeholder_;if(t&&this.mapProjection_){if(!this.transform_){var o=this.getProjection();this.transform_=o?getTransformFromProjections(this.mapProjection_,o):identityTransform}var r=this.getMap().getCoordinateFromPixelInternal(t);if(r){var n=getUserProjection();n&&(this.transform_=getTransformFromProjections(this.mapProjection_,n)),this.transform_(r,r);var i=this.getCoordinateFormat();e=i?i(r):r.toString()}}this.renderedHTML_&&e===this.renderedHTML_||(this.element.innerHTML=e,this.renderedHTML_=e)},e.prototype.render=function(t){var e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null},e}(Control);export default MousePosition;
//# sourceMappingURL=/sm/03f21faa187d8847f9cc347b189980a4b654c8ea88d63724ae2649cc3b257f7c.map