/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/ol@6.12.0/control/Attribution.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __extends=this&&this.__extends||function(){var e=function(t,l){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])},e(t,l)};return function(t,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function o(){this.constructor=t}e(t,l),t.prototype=null===l?Object.create(l):(o.prototype=l.prototype,new o)}}();import Control from"./Control.js";import EventType from"../events/EventType.js";import{CLASS_COLLAPSED,CLASS_CONTROL,CLASS_UNSELECTABLE}from"../css.js";import{equals}from"../array.js";import{inView}from"../layer/Layer.js";import{removeChildren,replaceNode}from"../dom.js";var Attribution=function(e){function t(t){var l=this,o=t||{};(l=e.call(this,{element:document.createElement("div"),render:o.render,target:o.target})||this).ulElement_=document.createElement("ul"),l.collapsed_=void 0===o.collapsed||o.collapsed,l.userCollapsed_=l.collapsed_,l.overrideCollapsible_=void 0!==o.collapsible,l.collapsible_=void 0===o.collapsible||o.collapsible,l.collapsible_||(l.collapsed_=!1);var s=void 0!==o.className?o.className:"ol-attribution",i=void 0!==o.tipLabel?o.tipLabel:"Attributions",a=void 0!==o.expandClassName?o.expandClassName:s+"-expand",n=void 0!==o.collapseLabel?o.collapseLabel:"â€º",r=void 0!==o.collapseClassName?o.collapseClassName:s+"-collpase";"string"==typeof n?(l.collapseLabel_=document.createElement("span"),l.collapseLabel_.textContent=n,l.collapseLabel_.className=r):l.collapseLabel_=n;var p=void 0!==o.label?o.label:"i";"string"==typeof p?(l.label_=document.createElement("span"),l.label_.textContent=p,l.label_.className=a):l.label_=p;var c=l.collapsible_&&!l.collapsed_?l.collapseLabel_:l.label_;l.toggleButton_=document.createElement("button"),l.toggleButton_.setAttribute("type","button"),l.toggleButton_.setAttribute("aria-expanded",String(!l.collapsed_)),l.toggleButton_.title=i,l.toggleButton_.appendChild(c),l.toggleButton_.addEventListener(EventType.CLICK,l.handleClick_.bind(l),!1);var d=s+" "+CLASS_UNSELECTABLE+" "+CLASS_CONTROL+(l.collapsed_&&l.collapsible_?" "+CLASS_COLLAPSED:"")+(l.collapsible_?"":" ol-uncollapsible"),_=l.element;return _.className=d,_.appendChild(l.toggleButton_),_.appendChild(l.ulElement_),l.renderedAttributions_=[],l.renderedVisible_=!0,l}return __extends(t,e),t.prototype.collectSourceAttributions_=function(e){for(var t={},l=[],o=!0,s=e.layerStatesArray,i=0,a=s.length;i<a;++i){var n=s[i];if(inView(n,e.viewState)){var r=n.layer.getSource();if(r){var p=r.getAttributions();if(p){var c=p(e);if(c)if(o=o&&!1!==r.getAttributionsCollapsible(),Array.isArray(c))for(var d=0,_=c.length;d<_;++d)c[d]in t||(l.push(c[d]),t[c[d]]=!0);else c in t||(l.push(c),t[c]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(o),l},t.prototype.updateElement_=function(e){if(e){var t=this.collectSourceAttributions_(e),l=t.length>0;if(this.renderedVisible_!=l&&(this.element.style.display=l?"":"none",this.renderedVisible_=l),!equals(t,this.renderedAttributions_)){removeChildren(this.ulElement_);for(var o=0,s=t.length;o<s;++o){var i=document.createElement("li");i.innerHTML=t[o],this.ulElement_.appendChild(i)}this.renderedAttributions_=t}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},t.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},t.prototype.handleToggle_=function(){this.element.classList.toggle(CLASS_COLLAPSED),this.collapsed_?replaceNode(this.collapseLabel_,this.label_):replaceNode(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t.prototype.render=function(e){this.updateElement_(e.frameState)},t}(Control);export default Attribution;
//# sourceMappingURL=/sm/bcf30c016e8a6f76b4441f4934cb48632029d4dc6886da905fe0ac25fab849a7.map