/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/ol@6.12.0/control/ZoomSlider.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __extends=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();import Control from"./Control.js";import EventType from"../events/EventType.js";import PointerEventType from"../pointer/EventType.js";import{CLASS_CONTROL,CLASS_UNSELECTABLE}from"../css.js";import{clamp}from"../math.js";import{easeOut}from"../easing.js";import{listen,unlistenByKey}from"../events.js";import{stopPropagation}from"../events/Event.js";var Direction={VERTICAL:0,HORIZONTAL:1},ZoomSlider=function(t){function e(e){var i=this,n=e||{};(i=t.call(this,{element:document.createElement("div"),render:n.render})||this).dragListenerKeys_=[],i.currentResolution_=void 0,i.direction_=Direction.VERTICAL,i.dragging_,i.heightLimit_=0,i.widthLimit_=0,i.startX_,i.startY_,i.thumbSize_=null,i.sliderInitialized_=!1,i.duration_=void 0!==n.duration?n.duration:200;var o=void 0!==n.className?n.className:"ol-zoomslider",r=document.createElement("button");r.setAttribute("type","button"),r.className=o+"-thumb "+CLASS_UNSELECTABLE;var s=i.element;return s.className=o+" "+CLASS_UNSELECTABLE+" "+CLASS_CONTROL,s.appendChild(r),s.addEventListener(PointerEventType.POINTERDOWN,i.handleDraggerStart_.bind(i),!1),s.addEventListener(PointerEventType.POINTERMOVE,i.handleDraggerDrag_.bind(i),!1),s.addEventListener(PointerEventType.POINTERUP,i.handleDraggerEnd_.bind(i),!1),s.addEventListener(EventType.CLICK,i.handleContainerClick_.bind(i),!1),r.addEventListener(EventType.CLICK,stopPropagation,!1),i}return __extends(e,t),e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),e&&e.render()},e.prototype.initSlider_=function(){var t=this.element,e=t.offsetWidth,i=t.offsetHeight;if(0===e&&0===i)return this.sliderInitialized_=!1;var n=getComputedStyle(t);e-=parseFloat(n.paddingRight)+parseFloat(n.paddingLeft),i-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom);var o=t.firstElementChild,r=getComputedStyle(o),s=o.offsetWidth+parseFloat(r.marginRight)+parseFloat(r.marginLeft),a=o.offsetHeight+parseFloat(r.marginTop)+parseFloat(r.marginBottom);return this.thumbSize_=[s,a],e>i?(this.direction_=Direction.HORIZONTAL,this.widthLimit_=e-s):(this.direction_=Direction.VERTICAL,this.heightLimit_=i-a),this.sliderInitialized_=!0},e.prototype.handleContainerClick_=function(t){var e=this.getMap().getView(),i=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),n=this.getResolutionForPosition_(i),o=e.getConstrainedZoom(e.getZoomForResolution(n));e.animateInternal({zoom:o,duration:this.duration_,easing:easeOut})},e.prototype.handleDraggerStart_=function(t){if(!this.dragging_&&t.target===this.element.firstElementChild){var e=this.element.firstElementChild;if(this.getMap().getView().beginInteraction(),this.startX_=t.clientX-parseFloat(e.style.left),this.startY_=t.clientY-parseFloat(e.style.top),this.dragging_=!0,0===this.dragListenerKeys_.length){var i=this.handleDraggerDrag_,n=this.handleDraggerEnd_,o=this.getMap().getOwnerDocument();this.dragListenerKeys_.push(listen(o,PointerEventType.POINTERMOVE,i,this),listen(o,PointerEventType.POINTERUP,n,this))}}},e.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var e=t.clientX-this.startX_,i=t.clientY-this.startY_,n=this.getRelativePosition_(e,i);this.currentResolution_=this.getResolutionForPosition_(n),this.getMap().getView().setResolution(this.currentResolution_)}},e.prototype.handleDraggerEnd_=function(t){this.dragging_&&(this.getMap().getView().endInteraction(),this.dragging_=!1,this.startX_=void 0,this.startY_=void 0,this.dragListenerKeys_.forEach(unlistenByKey),this.dragListenerKeys_.length=0)},e.prototype.setThumbPosition_=function(t){var e=this.getPositionForResolution_(t),i=this.element.firstElementChild;this.direction_==Direction.HORIZONTAL?i.style.left=this.widthLimit_*e+"px":i.style.top=this.heightLimit_*e+"px"},e.prototype.getRelativePosition_=function(t,e){var i;return i=this.direction_===Direction.HORIZONTAL?t/this.widthLimit_:e/this.heightLimit_,clamp(i,0,1)},e.prototype.getResolutionForPosition_=function(t){return this.getMap().getView().getResolutionForValueFunction()(1-t)},e.prototype.getPositionForResolution_=function(t){var e=this.getMap().getView().getValueForResolutionFunction();return clamp(1-e(t),0,1)},e.prototype.render=function(t){if(t.frameState&&(this.sliderInitialized_||this.initSlider_())){var e=t.frameState.viewState.resolution;this.currentResolution_=e,this.setThumbPosition_(e)}},e}(Control);export default ZoomSlider;
//# sourceMappingURL=/sm/70cc10e66b2eb5508d7362ef0235689741b1a4e4ceb853ba2adcea282abb8398.map