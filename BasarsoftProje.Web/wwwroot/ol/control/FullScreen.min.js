/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/ol@6.12.0/control/FullScreen.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __extends=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function l(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(l.prototype=n.prototype,new l)}}();import Control from"./Control.js";import EventType from"../events/EventType.js";import MapProperty from"../MapProperty.js";import{CLASS_CONTROL,CLASS_UNSELECTABLE,CLASS_UNSUPPORTED}from"../css.js";import{listen,unlistenByKey}from"../events.js";import{replaceNode}from"../dom.js";var events=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],FullScreenEventType={ENTERFULLSCREEN:"enterfullscreen",LEAVEFULLSCREEN:"leavefullscreen"},FullScreen=function(e){function t(t){var n=this,l=t||{};(n=e.call(this,{element:document.createElement("div"),target:l.target})||this).on,n.once,n.un,n.cssClassName_=void 0!==l.className?l.className:"ol-full-screen",n.documentListeners_=[],n.activeClassName_=void 0!==l.activeClassName?l.activeClassName.split(" "):[n.cssClassName_+"-true"],n.inactiveClassName_=void 0!==l.inactiveClassName?l.inactiveClassName.split(" "):[n.cssClassName_+"-false"];var s=void 0!==l.label?l.label:"⤢";n.labelNode_="string"==typeof s?document.createTextNode(s):s;var r=void 0!==l.labelActive?l.labelActive:"×";n.labelActiveNode_="string"==typeof r?document.createTextNode(r):r,n.button_=document.createElement("button");var a=l.tipLabel?l.tipLabel:"Toggle full-screen";return n.button_.setAttribute("type","button"),n.button_.title=a,n.button_.appendChild(n.labelNode_),n.button_.addEventListener(EventType.CLICK,n.handleClick_.bind(n),!1),n.element.className=n.cssClassName_+" "+CLASS_UNSELECTABLE+" "+CLASS_CONTROL,n.element.appendChild(n.button_),n.keys_=void 0!==l.keys&&l.keys,n.source_=l.source,n.isInFullscreen_=!1,n.boundHandleMapTargetChange_=n.handleMapTargetChange_.bind(n),n}return __extends(t,e),t.prototype.handleClick_=function(e){e.preventDefault(),this.handleFullScreen_()},t.prototype.handleFullScreen_=function(){var e=this.getMap();if(e){var t=e.getOwnerDocument();if(isFullScreenSupported(t))if(isFullScreen(t))exitFullScreen(t);else{var n=void 0;n=this.source_?"string"==typeof this.source_?t.getElementById(this.source_):this.source_:e.getTargetElement(),this.keys_?requestFullScreenWithKeys(n):requestFullScreen(n)}}},t.prototype.handleFullScreenChange_=function(){var e=this.getMap();if(e){var t=this.isInFullscreen_;this.isInFullscreen_=isFullScreen(e.getOwnerDocument()),t!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?(replaceNode(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(FullScreenEventType.ENTERFULLSCREEN)):(replaceNode(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(FullScreenEventType.LEAVEFULLSCREEN)),e.updateSize())}},t.prototype.setClassName_=function(e,t){var n,l,s,r=this.activeClassName_,a=this.inactiveClassName_,i=t?r:a;(n=e.classList).remove.apply(n,r),(l=e.classList).remove.apply(l,a),(s=e.classList).add.apply(s,i)},t.prototype.setMap=function(t){var n=this.getMap();n&&n.removeChangeListener(MapProperty.TARGET,this.boundHandleMapTargetChange_),e.prototype.setMap.call(this,t),this.handleMapTargetChange_(),t&&t.addChangeListener(MapProperty.TARGET,this.boundHandleMapTargetChange_)},t.prototype.handleMapTargetChange_=function(){for(var e=this.documentListeners_,t=0,n=e.length;t<n;++t)unlistenByKey(e[t]);e.length=0;var l=this.getMap();if(l){var s=l.getOwnerDocument();isFullScreenSupported(s)?this.element.classList.remove(CLASS_UNSUPPORTED):this.element.classList.add(CLASS_UNSUPPORTED);for(t=0,n=events.length;t<n;++t)e.push(listen(s,events[t],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}},t}(Control);function isFullScreenSupported(e){var t=e.body;return!!(t.webkitRequestFullscreen||t.msRequestFullscreen&&e.msFullscreenEnabled||t.requestFullscreen&&e.fullscreenEnabled)}function isFullScreen(e){return!!(e.webkitIsFullScreen||e.msFullscreenElement||e.fullscreenElement)}function requestFullScreen(e){e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}function requestFullScreenWithKeys(e){e.webkitRequestFullscreen?e.webkitRequestFullscreen():requestFullScreen(e)}function exitFullScreen(e){e.exitFullscreen?e.exitFullscreen():e.msExitFullscreen?e.msExitFullscreen():e.webkitExitFullscreen&&e.webkitExitFullscreen()}export default FullScreen;
//# sourceMappingURL=/sm/23dfe30605b5736639e35c2f6b75bf88a99138e45290c9a413b154a5ae7543ae.map